import{j as t}from"./jsx-runtime.D_zvdyIk.js";import{r as s}from"./index.RH_Wq4ov.js";function p(){const[l,h]=s.useState([]),[n,i]=s.useState(""),[r,o]=s.useState(""),[c,d]=s.useState("");async function a(){const e=await fetch("/api/customers");h(await e.json())}async function u(){n.trim()&&(await fetch("/api/customers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,contact:r,phone:c})}),i(""),o(""),d(""),a())}async function x(e){await fetch(`/api/customers/${e}`,{method:"DELETE"}),a()}return s.useEffect(()=>{a()},[]),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",gap:8,marginBottom:12},children:[t.jsx("input",{placeholder:"客户名称",value:n,onChange:e=>i(e.target.value)}),t.jsx("input",{placeholder:"联系人",value:r,onChange:e=>o(e.target.value)}),t.jsx("input",{placeholder:"电话",value:c,onChange:e=>d(e.target.value)}),t.jsx("button",{onClick:u,children:"新增客户"})]}),t.jsxs("table",{className:"table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{children:"客户ID"}),t.jsx("th",{children:"名称"}),t.jsx("th",{children:"联系人"}),t.jsx("th",{children:"电话"}),t.jsx("th",{children:"操作"})]})}),t.jsx("tbody",{children:l.map(e=>t.jsxs("tr",{children:[t.jsx("td",{children:e.id}),t.jsx("td",{children:e.name}),t.jsx("td",{children:e.contact}),t.jsx("td",{children:e.phone}),t.jsx("td",{children:t.jsx("button",{onClick:()=>x(e.id),children:"删除"})})]},e.id))})]})]})}export{p as default};
